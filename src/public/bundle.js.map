{"version":3,"names":[],"mappings":"","sources":["bundle.js"],"sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*** IMPORTS FROM imports-loader ***/\n\t'use strict';\n\t\n\tvar define = false;\n\t\n\t// Require module\n\t__webpack_require__(1);\n\t__webpack_require__(15);\n\t__webpack_require__(16);\n\t\n\t// Wait until the page has loaded\n\tif (document.readyState === 'interactive' || document.readyState === 'complete') {\n\t\tdocument.dispatchEvent(new CustomEvent('o.DOMContentLoaded'));\n\t}\n\tdocument.addEventListener('DOMContentLoaded', function () {\n\t\t// Dispatch a custom event that will tell all required modules to initialise\n\t\tdocument.dispatchEvent(new CustomEvent('o.DOMContentLoaded'));\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(2);\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*** IMPORTS FROM imports-loader ***/\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _srcJsHeader = __webpack_require__(3);\n\t\n\tvar _srcJsHeader2 = _interopRequireDefault(_srcJsHeader);\n\t\n\tvar define = false;\n\t\n\tvar constructAll = function constructAll() {\n\t\t_srcJsHeader2['default'].init();\n\t\tdocument.removeEventListener('o.DOMContentLoaded', constructAll);\n\t};\n\t\n\tdocument.addEventListener('o.DOMContentLoaded', constructAll);\n\t\n\texports['default'] = _srcJsHeader2['default'];\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*** IMPORTS FROM imports-loader ***/\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar _search = __webpack_require__(4);\n\t\n\tvar _search2 = _interopRequireDefault(_search);\n\t\n\tvar _mega = __webpack_require__(9);\n\t\n\tvar _mega2 = _interopRequireDefault(_mega);\n\t\n\tvar _drawer = __webpack_require__(10);\n\t\n\tvar _drawer2 = _interopRequireDefault(_drawer);\n\t\n\tvar _subnav = __webpack_require__(11);\n\t\n\tvar _subnav2 = _interopRequireDefault(_subnav);\n\t\n\tvar _sticky = __webpack_require__(14);\n\t\n\tvar _sticky2 = _interopRequireDefault(_sticky);\n\t\n\tvar define = false;\n\t\n\tvar Header = (function () {\n\t\tfunction Header(headerEl) {\n\t\t\t_classCallCheck(this, Header);\n\t\n\t\t\tif (!headerEl) {\n\t\t\t\theaderEl = document.querySelector('[data-o-component=\"o-header\"]');\n\t\t\t} else if (typeof headerEl === 'string') {\n\t\t\t\theaderEl = document.querySelector(headerEl);\n\t\t\t}\n\t\n\t\t\tif (headerEl.hasAttribute('data-o-header--js')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tthis.headerEl = headerEl;\n\t\n\t\t\t_search2['default'].init(this.headerEl);\n\t\t\t_mega2['default'].init(this.headerEl);\n\t\t\t_drawer2['default'].init(this.headerEl);\n\t\t\t_subnav2['default'].init(this.headerEl);\n\t\t\t_sticky2['default'].init(this.headerEl);\n\t\n\t\t\tthis.headerEl.removeAttribute('data-o-header--no-js');\n\t\t\tthis.headerEl.setAttribute('data-o-header--js', '');\n\t\t}\n\t\n\t\t_createClass(Header, null, [{\n\t\t\tkey: 'init',\n\t\t\tvalue: function init(rootEl) {\n\t\t\t\tif (!rootEl) {\n\t\t\t\t\trootEl = document.body;\n\t\t\t\t}\n\t\t\t\tif (!(rootEl instanceof HTMLElement)) {\n\t\t\t\t\trootEl = document.querySelector(rootEl);\n\t\t\t\t}\n\t\t\t\tif (/\\bo-header\\b/.test(rootEl.getAttribute('data-o-component'))) {\n\t\t\t\t\treturn new Header(rootEl);\n\t\t\t\t}\n\t\n\t\t\t\treturn [].map.call(rootEl.querySelectorAll('[data-o-component=\"o-header\"]'), function (el) {\n\t\t\t\t\tif (!el.hasAttribute('data-o-header--js')) {\n\t\t\t\t\t\treturn new Header(el);\n\t\t\t\t\t}\n\t\t\t\t}).filter(function (header) {\n\t\t\t\t\treturn header !== undefined;\n\t\t\t\t});\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Header;\n\t})();\n\t\n\texports['default'] = Header;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*** IMPORTS FROM imports-loader ***/\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _oToggle = __webpack_require__(5);\n\t\n\tvar _oToggle2 = _interopRequireDefault(_oToggle);\n\t\n\tvar define = false;\n\t\n\tfunction init(headerEl) {\n\t\tvar target = headerEl.querySelector('[data-o-header-search]');\n\t\tvar controls = target && headerEl.querySelectorAll('[aria-controls=\"' + target.id + '\"]');\n\t\n\t\tif (controls === null || controls.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\n\t\tvar opening = [];\n\t\n\t\tvar callback = function callback(state, e) {\n\t\t\tif (state === 'open') {\n\t\t\t\t// record the opening control\n\t\t\t\topening.push(e.currentTarget);\n\t\t\t\ttarget.querySelector('[name=\"q\"]').focus();\n\t\t\t} else {\n\t\t\t\t// re-focus opening control\n\t\t\t\topening.length && opening.pop().focus();\n\t\t\t}\n\t\t};\n\t\n\t\tfor (var i = 0, len = controls.length; i < len; i++) {\n\t\t\tnew _oToggle2['default'](controls[i], { target: target, callback: callback });\n\t\t}\n\t}\n\t\n\texports['default'] = { init: init };\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(6);\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*** IMPORTS FROM imports-loader ***/\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _srcJsToggle = __webpack_require__(7);\n\t\n\tvar _srcJsToggle2 = _interopRequireDefault(_srcJsToggle);\n\t\n\tvar define = false;\n\t\n\tvar constructAll = function constructAll() {\n\t\t_srcJsToggle2['default'].init();\n\t\tdocument.removeEventListener('o.DOMContentLoaded', constructAll);\n\t};\n\t\n\tdocument.addEventListener('o.DOMContentLoaded', constructAll);\n\t\n\texports['default'] = _srcJsToggle2['default'];\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*** IMPORTS FROM imports-loader ***/\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar _target = __webpack_require__(8);\n\t\n\tvar _target2 = _interopRequireDefault(_target);\n\t\n\tvar define = false;\n\t\n\tvar Toggle = (function () {\n\t\tfunction Toggle(toggleEl, config) {\n\t\t\t_classCallCheck(this, Toggle);\n\t\n\t\t\tif (!Toggle._targets) {\n\t\t\t\tToggle._targets = new Map();\n\t\t\t}\n\t\n\t\t\tif (!toggleEl) {\n\t\t\t\treturn;\n\t\t\t} else if (!(toggleEl instanceof HTMLElement)) {\n\t\t\t\ttoggleEl = document.querySelector(toggleEl);\n\t\t\t}\n\t\n\t\t\tif (toggleEl.hasAttribute('data-o-toggle--js')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tif (!config) {\n\t\t\t\tconfig = {};\n\t\t\t\t// Try to get config set declaratively on the element\n\t\t\t\tArray.prototype.forEach.call(toggleEl.attributes, function (attr) {\n\t\t\t\t\tif (attr.name.indexOf('data-o-toggle') === 0) {\n\t\t\t\t\t\t// Remove the prefix part of the data attribute name\n\t\t\t\t\t\tvar key = attr.name.replace('data-o-toggle-', '');\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t// If it's a JSON, a boolean or a number, we want it stored like that, and not as a string\n\t\t\t\t\t\t\t// We also replace all ' with \" so JSON strings are parsed correctly\n\t\t\t\t\t\t\tconfig[key] = JSON.parse(attr.value.replace(/\\'/g, '\"'));\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconfig[key] = attr.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tthis.callback = config.callback;\n\t\t\tif (typeof this.callback === 'string') {\n\t\t\t\tthis.callback = new Function(this.callback);\n\t\t\t}\n\t\n\t\t\tthis.toggleEl = toggleEl;\n\t\n\t\t\tif (this.toggleEl.nodeName === 'A') {\n\t\t\t\tthis.toggleEl.setAttribute('role', 'button');\n\t\t\t}\n\t\n\t\t\tthis.toggle = this.toggle.bind(this);\n\t\t\tthis.toggleEl.addEventListener('click', this.toggle);\n\t\n\t\t\tthis.toggleEl.setAttribute('data-o-toggle--js', 'true');\n\t\n\t\t\tthis.targetEl = config.target;\n\t\t\tif (!(this.targetEl instanceof HTMLElement)) {\n\t\t\t\tthis.targetEl = document.querySelector(this.targetEl);\n\t\t\t}\n\t\n\t\t\tif (Toggle._targets.get(this.targetEl) === undefined) {\n\t\t\t\tthis.target = new Toggle.Target(this);\n\t\t\t\tToggle._targets.set(this.targetEl, this.target);\n\t\t\t} else {\n\t\t\t\tthis.target = Toggle._targets.get(this.targetEl);\n\t\t\t}\n\t\n\t\t\tthis.target.addToggle(this);\n\t\t\tthis.target.close();\n\t\t}\n\t\n\t\t_createClass(Toggle, [{\n\t\t\tkey: 'open',\n\t\t\tvalue: function open() {\n\t\t\t\tthis.toggleEl.setAttribute('aria-expanded', 'true');\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'close',\n\t\t\tvalue: function close() {\n\t\t\t\tthis.toggleEl.setAttribute('aria-expanded', 'false');\n\t\t\t}\n\t\n\t\t\t// toggle is bound to the Toggle instance in the constructor\n\t\t}, {\n\t\t\tkey: 'toggle',\n\t\t\tvalue: function toggle(e) {\n\t\n\t\t\t\tthis.target.toggle();\n\t\n\t\t\t\tif (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\n\t\t\t\tif (this.callback) {\n\t\t\t\t\tvar stateName = this.target.isOpen() ? 'open' : 'close';\n\t\t\t\t\tthis.callback(stateName, e);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'destroy',\n\t\t\tvalue: function destroy() {\n\t\t\t\tthis.toggleEl.removeEventListener('click', this.toggle);\n\t\t\t\tthis.toggleEl.removeAttribute('aria-expanded');\n\t\t\t\tthis.toggleEl.removeAttribute('role');\n\t\t\t\tthis.toggleEl.removeAttribute('data-o-toggle--js');\n\t\n\t\t\t\tthis.target.removeToggle(this);\n\t\n\t\t\t\tthis.target = undefined;\n\t\t\t\tthis.toggleEl = undefined;\n\t\t\t\tthis.callback = undefined;\n\t\t\t}\n\t\t}], [{\n\t\t\tkey: 'init',\n\t\t\tvalue: function init(el, config) {\n\t\t\t\tif (!el) {\n\t\t\t\t\tel = document.body;\n\t\t\t\t} else if (!(el instanceof HTMLElement)) {\n\t\t\t\t\tel = document.querySelector(el);\n\t\t\t\t}\n\t\t\t\tvar toggleEls = el.querySelectorAll('[data-o-component=\"o-toggle\"]');\n\t\t\t\tvar toggles = [];\n\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\tvar _didIteratorError = false;\n\t\t\t\tvar _iteratorError = undefined;\n\t\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator = toggleEls[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\tvar toggleEl = _step.value;\n\t\n\t\t\t\t\t\tif (!toggleEl.hasAttribute('data-o-toggle--js')) {\n\t\t\t\t\t\t\ttoggles.push(new Toggle(toggleEl, config));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t_iteratorError = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator['return']) {\n\t\t\t\t\t\t\t_iterator['return']();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\treturn toggles;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Toggle;\n\t})();\n\t\n\t;\n\t\n\tToggle.Target = _target2['default'];\n\texports['default'] = Toggle;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t/*** IMPORTS FROM imports-loader ***/\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar define = false;\n\t\n\tvar Target = (function () {\n\t\tfunction Target(toggle) {\n\t\t\t_classCallCheck(this, Target);\n\t\n\t\t\tthis.targetEl = toggle.targetEl;\n\t\t\tthis.toggles = [];\n\t\t}\n\t\n\t\t_createClass(Target, [{\n\t\t\tkey: 'addToggle',\n\t\t\tvalue: function addToggle(toggle) {\n\t\t\t\tthis.toggles.push(toggle);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'removeToggle',\n\t\t\tvalue: function removeToggle(toggle) {\n\t\t\t\tvar togglePosition = this.toggles.indexOf(toggle);\n\t\t\t\tthis.toggles = this.toggles.slice(0, togglePosition).concat(this.toggles.slice(togglePosition + 1));\n\t\t\t\tif (this.toggles.length === 0) {\n\t\t\t\t\t// If that was the last/only toggle that controlled this target then ensure\n\t\t\t\t\t// this target is open so it doesn't get stuck in the closed position\n\t\t\t\t\tthis.open();\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'open',\n\t\t\tvalue: function open() {\n\t\t\t\tthis.targetEl.setAttribute('aria-hidden', 'false');\n\t\t\t\tthis.targetEl.classList.add('o-toggle--active');\n\t\t\t\t// Set every toggle that controls this target to be open\n\t\t\t\tthis.toggles.forEach(function (toggle) {\n\t\t\t\t\ttoggle.open();\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'close',\n\t\t\tvalue: function close() {\n\t\t\t\tthis.targetEl.setAttribute('aria-hidden', 'true');\n\t\t\t\tthis.targetEl.classList.remove('o-toggle--active');\n\t\n\t\t\t\t// Set every toggle that controls this target to be closed\n\t\t\t\tthis.toggles.forEach(function (toggle) {\n\t\t\t\t\ttoggle.close();\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'toggle',\n\t\t\tvalue: function toggle() {\n\t\t\t\tif (this.isOpen()) {\n\t\t\t\t\tthis.close();\n\t\t\t\t} else {\n\t\t\t\t\tthis.open();\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'isOpen',\n\t\t\tvalue: function isOpen() {\n\t\t\t\treturn this.targetEl.classList.contains('o-toggle--active');\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Target;\n\t})();\n\t\n\t;\n\texports['default'] = Target;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t/*** IMPORTS FROM imports-loader ***/\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\tvar define = false;\n\t\n\tvar INTENT_ENTER = 300;\n\tvar INTENT_LEAVE = 400;\n\t\n\tvar expanded = [];\n\t\n\tfunction addEvents(parent, menu) {\n\t\tvar timeout = undefined;\n\t\n\t\tparent.addEventListener('mouseenter', function () {\n\t\t\tclearTimeout(timeout);\n\t\n\t\t\tif (isOpen(menu)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\ttimeout = setTimeout(function () {\n\t\t\t\tif (expanded.length) {\n\t\t\t\t\thide(expanded[0]);\n\t\t\t\t\tshow(menu, false);\n\t\t\t\t} else {\n\t\t\t\t\tshow(menu, true);\n\t\t\t\t}\n\t\t\t}, INTENT_ENTER);\n\t\t});\n\t\n\t\tparent.addEventListener('mouseleave', function () {\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(function () {\n\t\t\t\treturn isOpen(menu) && hide(menu);\n\t\t\t}, INTENT_LEAVE);\n\t\t});\n\t}\n\t\n\tfunction isOpen(menu) {\n\t\treturn expanded.indexOf(menu) !== -1;\n\t}\n\t\n\tfunction show(menu, animate) {\n\t\tif (animate) {\n\t\t\tmenu.classList.add('o-header__mega--animation');\n\t\t}\n\t\n\t\tmenu.setAttribute('aria-hidden', 'false');\n\t\tmenu.setAttribute('aria-expanded', 'true');\n\t\n\t\tmenu.dispatchEvent(new CustomEvent('oHeader.MegaMenuShow', { bubbles: true }));\n\t\n\t\texpanded.push(menu);\n\t}\n\t\n\tfunction hide(menu) {\n\t\tmenu.classList.remove('o-header__mega--animation');\n\t\tmenu.setAttribute('aria-hidden', 'true');\n\t\tmenu.setAttribute('aria-expanded', 'false');\n\t\n\t\tmenu.dispatchEvent(new CustomEvent('oHeader.MegaMenuHide', { bubbles: true }));\n\t\n\t\texpanded.splice(expanded.indexOf(menu), 1);\n\t}\n\t\n\tfunction init(headerEl) {\n\t\tvar menus = Array.from(headerEl.querySelectorAll('[data-o-header-mega]'));\n\t\tvar parents = menus.map(function (menu) {\n\t\t\treturn menu.parentNode;\n\t\t});\n\t\n\t\tmenus.forEach(function (menu) {\n\t\t\tmenu.setAttribute('aria-hidden', 'true');\n\t\t\tmenu.setAttribute('aria-expanded', 'false');\n\t\t});\n\t\n\t\tparents.forEach(function (parent, i) {\n\t\t\treturn addEvents(parent, menus[i]);\n\t\t});\n\t}\n\t\n\texports['default'] = { init: init, show: show, hide: hide };\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*** IMPORTS FROM imports-loader ***/\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\t\n\tvar _oToggle = __webpack_require__(5);\n\t\n\tvar _oToggle2 = _interopRequireDefault(_oToggle);\n\t\n\tvar define = false;\n\t\n\tvar LISTEN_DELAY = 300;\n\tvar INTENT_DELAY = 1000;\n\t\n\tfunction handleCloseEvents(scope, callback) {\n\t\tvar timeout = undefined;\n\t\n\t\tvar handleKeydown = function handleKeydown(e) {\n\t\t\tif (e.keyCode === 27) {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t};\n\t\n\t\tvar handleClick = function handleClick(e) {\n\t\t\tif (!scope.contains(e.target)) {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t};\n\t\n\t\tvar handleMouseenter = function handleMouseenter() {\n\t\t\tclearTimeout(timeout);\n\t\t};\n\t\n\t\tvar handleMouseleave = function handleMouseleave() {\n\t\t\t// IE 11 mobile fires a mouseleave event when the search box gets focus. This means when the user tries\n\t\t\t// to use the search box, it disappears because the drawer closes.\n\t\t\t// Mouseout events should only occur when the drawer takes up less than 100% of the window, so we can ignore\n\t\t\t// any events triggered if the width of the drawer is equal to or bigger than the window.innerwidth\n\t\t\tif (window.innerWidth >= scope.offsetWidth) {\n\t\t\t\ttimeout = setTimeout(callback, INTENT_DELAY);\n\t\t\t}\n\t\t};\n\t\n\t\tvar handleFocus = function handleFocus(e) {\n\t\t\tvar target = e.relatedTarget || e.target;\n\t\n\t\t\tif (!scope.contains(target)) {\n\t\t\t\tscope.focus();\n\t\t\t}\n\t\t};\n\t\n\t\tvar removeEvents = function removeEvents() {\n\t\t\tclearTimeout(timeout);\n\t\n\t\t\tscope.removeEventListener('mouseenter', handleMouseenter);\n\t\t\tscope.removeEventListener('mouseleave', handleMouseleave);\n\t\t\tdocument.removeEventListener('click', handleClick);\n\t\t\tdocument.removeEventListener('touchstart', handleClick);\n\t\t\tdocument.removeEventListener('keydown', handleKeydown);\n\t\t\tdocument.removeEventListener('focusin', handleFocus);\n\t\t\tdocument.removeEventListener('focusout', handleFocus);\n\t\t};\n\t\n\t\tvar addEvents = function addEvents() {\n\t\t\tscope.addEventListener('mouseenter', handleMouseenter);\n\t\t\tscope.addEventListener('mouseleave', handleMouseleave);\n\t\t\tdocument.addEventListener('click', handleClick);\n\t\t\tdocument.addEventListener('touchstart', handleClick);\n\t\t\tdocument.addEventListener('keydown', handleKeydown);\n\t\n\t\t\t// Firefox doesn't support focusin or focusout\n\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n\t\t\tdocument.addEventListener('focusin', handleFocus);\n\t\t\tdocument.addEventListener('focusout', handleFocus);\n\t\t};\n\t\n\t\treturn { addEvents: addEvents, removeEvents: removeEvents, handleMouseleave: handleMouseleave };\n\t}\n\t\n\tfunction addDrawerToggles(drawerEl) {\n\t\tvar controls = [].concat(_toConsumableArray(document.body.querySelectorAll('[aria-controls=\"' + drawerEl.id + '\"]')));\n\t\n\t\tvar handleClose = undefined;\n\t\tvar openingControl = undefined;\n\t\n\t\tfunction toggleCallback(state, e) {\n\t\t\tif (state === 'close') {\n\t\t\t\thandleClose.removeEvents();\n\t\n\t\t\t\topeningControl.focus();\n\t\t\t} else {\n\t\t\t\t// don't capture the initial click or accidental double taps etc.\n\t\t\t\t// we could use transitionend but scoping is tricky and it needs prefixing and...\n\t\t\t\tsetTimeout(handleClose.addEvents, LISTEN_DELAY);\n\t\n\t\t\t\t// record the opening control so we can send focus back to it when closing the drawer\n\t\t\t\topeningControl = e.currentTarget;\n\t\n\t\t\t\t// aria-controls is only supported by JAWS.\n\t\t\t\t// In a setTimeout callback to avoid flickering transitions in Chrome (v54)\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\treturn drawerEl.focus();\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tdrawerEl.classList.toggle('o-header__drawer--closing', state === 'close');\n\t\t\tdrawerEl.classList.toggle('o-header__drawer--opening', state === 'open');\n\t\t}\n\t\n\t\tcontrols.forEach(function (control) {\n\t\t\tvar drawerToggle = new _oToggle2['default'](control, {\n\t\t\t\ttarget: drawerEl,\n\t\t\t\tcallback: toggleCallback\n\t\t\t});\n\t\n\t\t\t// Both toggles have the same target, so the toggle function will be the same\n\t\t\t// If there's a separate handleClose instance for each toggle, removeEvents doesn't work\n\t\t\t// when the close toggle is clicked\n\t\t\tif (!handleClose) {\n\t\t\t\thandleClose = handleCloseEvents(drawerEl, drawerToggle.toggle);\n\t\t\t}\n\t\t});\n\t\n\t\t// make the drawer programmatically focusable\n\t\tdrawerEl.tabIndex = -1;\n\t}\n\t\n\tfunction addSubmenuToggles(drawerEl) {\n\t\tvar submenus = drawerEl.querySelectorAll('[id^=\"o-header-drawer-child-\"]');\n\t\n\t\tArray.from(submenus).forEach(function (submenu) {\n\t\t\tvar button = drawerEl.querySelector('[aria-controls=\"' + submenu.id + '\"]');\n\t\n\t\t\tsubmenu.setAttribute('aria-hidden', 'true');\n\t\n\t\t\tnew _oToggle2['default'](button, {\n\t\t\t\ttarget: submenu,\n\t\t\t\tcallback: function callback(state) {\n\t\t\t\t\tbutton.textContent = button.textContent.replace(/fewer|more/, state === 'open' ? 'fewer' : 'more');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\t\n\tfunction init() {\n\t\tvar drawerEl = document.body.querySelector('[data-o-header-drawer]');\n\t\tif (!drawerEl) {\n\t\t\treturn;\n\t\t}\n\t\taddSubmenuToggles(drawerEl);\n\t\taddDrawerToggles(drawerEl);\n\t\n\t\tdrawerEl.removeAttribute('data-o-header-drawer--no-js');\n\t\tdrawerEl.setAttribute('data-o-header-drawer--js', 'true');\n\t}\n\t\n\texports['default'] = { init: init, handleCloseEvents: handleCloseEvents };\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*** IMPORTS FROM imports-loader ***/\n\t'use strict';\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\t\n\tvar _oUtils = __webpack_require__(12);\n\t\n\tvar oUtils = _interopRequireWildcard(_oUtils);\n\t\n\tvar define = false;\n\t\n\tfunction init(headerEl) {\n\t\tvar subnav = headerEl.querySelector('[data-o-header-subnav]');\n\t\n\t\tif (subnav === null) {\n\t\t\treturn;\n\t\t}\n\t\n\t\tvar wrapper = subnav.querySelector('[data-o-header-subnav-wrapper]');\n\t\tvar buttons = Array.from(subnav.getElementsByTagName('button'));\n\t\n\t\tvar scrollWidth = undefined;\n\t\tvar clientWidth = undefined;\n\t\n\t\tfunction direction(button) {\n\t\t\treturn button.className.match(/left|right/).pop();\n\t\t}\n\t\n\t\tfunction scrollable() {\n\t\t\tscrollWidth = wrapper.scrollWidth;\n\t\t\tclientWidth = wrapper.clientWidth;\n\t\n\t\t\tbuttons.forEach(function (button) {\n\t\t\t\tif (direction(button) === 'left') {\n\t\t\t\t\tbutton.disabled = wrapper.scrollLeft === 0;\n\t\t\t\t} else {\n\t\t\t\t\tvar remaining = scrollWidth - clientWidth - wrapper.scrollLeft;\n\t\t\t\t\t// Allow a little difference as scrollWidth is fast, not accurate.\n\t\t\t\t\tbutton.disabled = remaining <= 1;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\n\t\tfunction scroll(e) {\n\t\t\tvar distance = 100;\n\t\n\t\t\tif (direction(e.currentTarget) === 'left') {\n\t\t\t\tdistance = (wrapper.scrollLeft > distance ? distance : wrapper.scrollLeft) * -1;\n\t\t\t} else {\n\t\t\t\tvar remaining = scrollWidth - clientWidth - wrapper.scrollLeft;\n\t\t\t\tdistance = remaining > distance ? distance : remaining;\n\t\t\t}\n\t\n\t\t\twrapper.scrollLeft = wrapper.scrollLeft + distance;\n\t\n\t\t\tscrollable();\n\t\t}\n\t\n\t\twrapper.addEventListener('scroll', oUtils.throttle(scrollable, 100));\n\t\twindow.addEventListener('oViewport.resize', scrollable);\n\t\n\t\tbuttons.forEach(function (button) {\n\t\t\tbutton.onclick = scroll;\n\t\t});\n\t\n\t\tscrollable();\n\t}\n\t\n\tmodule.exports = { init: init };\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(13);\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t/*** IMPORTS FROM imports-loader ***/\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\tvar define = false;\n\t\n\t/**\n\t*\n\t* Debounces function so it is only called after n milliseconds\n\t* without it not being called\n\t*\n\t* @example\n\t* Utils.debounce(myFunction() {}, 100);\n\t*\n\t* @param {Function} func - Function to be debounced\n\t* @param {number} wait - Time in miliseconds\n\t*\n\t* @returns {Function} - Debounced function\n\t*/\n\tfunction debounce(func, wait) {\n\t\tvar timeout = undefined;\n\t\treturn function () {\n\t\t\tvar _this = this;\n\t\n\t\t\tvar args = arguments;\n\t\t\tvar later = function later() {\n\t\t\t\ttimeout = null;\n\t\t\t\tfunc.apply(_this, args);\n\t\t\t};\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(later, wait);\n\t\t};\n\t};\n\t\n\t/**\n\t*\n\t* Throttle function so it is only called once every n milliseconds\n\t*\n\t* @example\n\t* Utils.throttle(myFunction() {}, 100);\n\t*\n\t* @param {Function} func - Function to be throttled\n\t* @param {number} wait - Time in miliseconds\n\t*\n\t* @returns {Function} - Throttled function\n\t*/\n\tfunction throttle(func, wait) {\n\t\tvar timeout = undefined;\n\t\treturn function () {\n\t\t\tvar _this2 = this;\n\t\n\t\t\tif (timeout) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar args = arguments;\n\t\t\tvar later = function later() {\n\t\t\t\ttimeout = null;\n\t\t\t\tfunc.apply(_this2, args);\n\t\t\t};\n\t\n\t\t\ttimeout = setTimeout(later, wait);\n\t\t};\n\t};\n\t\n\texports.debounce = debounce;\n\texports.throttle = throttle;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*** IMPORTS FROM imports-loader ***/\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\t\n\tvar _oUtils = __webpack_require__(12);\n\t\n\tvar define = false;\n\t\n\tfunction init(headerEl) {\n\t\tif (!headerEl.hasAttribute('data-o-header--sticky')) {\n\t\t\treturn;\n\t\t}\n\t\n\t\tvar viewportOffset = undefined;\n\t\tvar lastScrollDepth = undefined;\n\t\tvar lastAnimationFrame = undefined;\n\t\n\t\tfunction handleFrame() {\n\t\t\t// sticky el will appear when scrolled down from page top to\n\t\t\t// (arbitrarily) > half the viewport height\n\t\t\tvar scrollDepth = window.pageYOffset || window.scrollY;\n\t\t\tvar isActive = scrollDepth > viewportOffset;\n\t\n\t\t\theaderEl.classList.toggle('o-header--sticky-active', isActive);\n\t\n\t\t\t// allow a little wiggling room so we don't get too hasty toggling up/down state\n\t\t\tif (Math.abs(scrollDepth - lastScrollDepth) > 20) {\n\t\t\t\tvar isScrollingDown = lastScrollDepth < scrollDepth;\n\t\t\t\theaderEl.classList.toggle('o-header--sticky-scroll-down', isActive && isScrollingDown);\n\t\t\t\theaderEl.classList.toggle('o-header--sticky-scroll-up', isActive && !isScrollingDown);\n\t\t\t}\n\t\n\t\t\tlastScrollDepth = scrollDepth;\n\t\t}\n\t\n\t\tfunction startLoop() {\n\t\t\tviewportOffset = window.innerHeight / 2;\n\t\n\t\t\tlastAnimationFrame = window.requestAnimationFrame(function () {\n\t\t\t\thandleFrame();\n\t\t\t\tstartLoop();\n\t\t\t});\n\t\t}\n\t\n\t\tfunction stopLoop() {\n\t\t\tlastAnimationFrame && window.cancelAnimationFrame(lastAnimationFrame);\n\t\t}\n\t\n\t\tfunction scrollStart() {\n\t\t\twindow.removeEventListener('scroll', scrollStart);\n\t\t\twindow.addEventListener('scroll', debouncedScrollEnd);\n\t\t\tstartLoop();\n\t\t}\n\t\n\t\tfunction scrollEnd() {\n\t\t\tstopLoop();\n\t\t\twindow.removeEventListener('scroll', debouncedScrollEnd);\n\t\t\twindow.addEventListener('scroll', scrollStart);\n\t\t}\n\t\n\t\tvar debouncedScrollEnd = (0, _oUtils.debounce)(scrollEnd, 300);\n\t\n\t\twindow.addEventListener('scroll', scrollStart);\n\t\n\t\thandleFrame();\n\t};\n\t\n\texports['default'] = { init: init };\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(17);\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\t/*** IMPORTS FROM imports-loader ***/\n\t'use strict';\n\t\n\tvar define = false;\n\t\n\t/*global module*/\n\t\n\tvar months = '[\"' + 'January,February,March,April,May,June,July,August,September,October,November,December'.split(',').join('\",\"') + '\"]';\n\tvar days = '[\"' + 'Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday'.split(',').join('\",\"') + '\"]';\n\tvar formats = {\n\t\tdatetime: 'MMMM d, yyyy h:mm a',\n\t\tdate: 'MMMM d, yyyy'\n\t};\n\t\n\tvar compiledTemplates = {};\n\t\n\t/**\n\t * See http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html for formatting conventions used\n\t *\n\t *Comments indicate the value returned for 3.05 pm on Tuesday 4th February 2014\n\t*/\n\tvar formatReplacementsMap = {\n\t\tMMMM: 'months[date.getMonth()]', // e.g. February\n\t\tMMM: 'months[date.getMonth()].substr(0,3)', // Feb\n\t\tMM: 'pad2(date.getMonth() + 1, 2)', // 02\n\t\tM: '(date.getMonth() + 1)', // 2\n\t\tyyyy: 'date.getFullYear()', // 2014\n\t\tyy: '(\"\"+date.getFullYear()).substr(-2, 2)', // 14\n\t\tEEEE: 'days[date.getDay()]', // Tuesday\n\t\tEEE: 'days[date.getDay()].substr(0,3)', // Tue\n\t\td: 'date.getDate()', // 4\n\t\tdd: 'pad2(date.getDate())', // 04\n\t\tm: 'date.getMinutes()', // 5\n\t\tmm: 'pad2(date.getMinutes())', // 05\n\t\th: '(((date.getHours() + 11) % 12) + 1)', // 3\n\t\thh: 'pad2(((date.getHours() + 11) % 12) + 1)', // 03\n\t\tH: 'date.getHours()', // 15\n\t\tHH: 'pad2(date.getHours())', // 15\n\t\ta: '(date.getHours() >= 12 ? \"pm\" : \"am\")' // pm\n\t};\n\t\n\tvar inSeconds = {\n\t\tminute: 60,\n\t\thour: 60 * 60,\n\t\tday: 24 * 60 * 60,\n\t\tweek: 7 * 24 * 60 * 60,\n\t\tmonth: 60 * 60 * 24 * 30,\n\t\tyear: 365 * 24 * 60 * 60\n\t};\n\t\n\tvar interval = undefined;\n\t\n\tfunction ODate(rootEl) {\n\t\tvar _this = this;\n\t\n\t\tif (!rootEl) {\n\t\t\trootEl = document.body;\n\t\t} else if (!(rootEl instanceof HTMLElement)) {\n\t\t\trootEl = document.querySelector(rootEl);\n\t\t}\n\t\n\t\tif (rootEl.getAttribute('data-o-component') === \"o-date\") {\n\t\t\tthis.el = rootEl;\n\t\t} else {\n\t\t\tthis.el = rootEl.querySelector('[data-o-component~=\"o-date\"]');\n\t\t}\n\t\n\t\tif (this.el !== undefined) {\n\t\t\tdocument.body.addEventListener('oDate.update', function () {\n\t\t\t\t_this.update();\n\t\t\t});\n\t\n\t\t\tthis.update();\n\t\t}\n\t\n\t\tif (!interval) {\n\t\t\tinterval = setInterval(function () {\n\t\t\t\tdocument.body.dispatchEvent(new CustomEvent('oDate.update'));\n\t\t\t}, 60000);\n\t\t}\n\t}\n\t\n\tODate.prototype.update = function () {\n\t\tvar el = this.el;\n\t\n\t\tvar date = el.getAttribute('datetime');\n\t\tvar format = el.getAttribute('data-o-date-format');\n\t\n\t\tvar printer = el.querySelector('.o-date__printer') || el;\n\t\tvar hasTextNode = printer.firstChild && printer.firstChild.nodeType === 3;\n\t\n\t\tif (date) {\n\t\t\tdate = ODate.toDate(date);\n\t\t} else if (hasTextNode) {\n\t\t\t// Only define new date if printer is empty\n\t\t\tdate = new Date();\n\t\t}\n\t\n\t\tif (!date) return;\n\t\n\t\tvar dateString = undefined;\n\t\n\t\tif (format === 'today-or-yesterday-or-nothing') {\n\t\t\tdateString = ODate.asTodayOrYesterdayOrNothing(date);\n\t\t} else if (format === 'date-only') {\n\t\t\tdateString = ODate.format(date, 'date');\n\t\t} else if (format === 'time-ago-limit-4-hours') {\n\t\t\tdateString = ODate.timeAgo(date, { limit: 4 * inSeconds.hour });\n\t\t} else if (format === 'time-ago-abbreviated-limit-4-hours') {\n\t\t\tdateString = ODate.timeAgo(date, { abbreviated: true, limit: 4 * inSeconds.hour });\n\t\t} else if (format === 'time-ago-no-seconds') {\n\t\t\tdateString = ODate.timeAgoNoSeconds(date);\n\t\t} else if (format !== null) {\n\t\t\tdateString = ODate.format(date, format);\n\t\t} else {\n\t\t\tdateString = ODate.ftTime(date);\n\t\t}\n\t\n\t\t// To avoid triggering a parent live region unnecessarily\n\t\t// <https://github.com/Financial-Times/o-date/pull/43>\n\t\tif (hasTextNode) {\n\t\t\tprinter.firstChild.nodeValue = dateString;\n\t\t} else {\n\t\t\tprinter.innerHTML = dateString;\n\t\t}\n\t\n\t\tel.title = ODate.format(date, 'datetime');\n\t\tel.setAttribute('data-o-date-js', '');\n\t\tel.setAttribute('aria-label', dateString);\n\t};\n\t\n\tfunction compile(format) {\n\t\tvar tpl = formats[format] || format;\n\t\n\t\tvar funcString = 'var months= ' + months + ', days= ' + days + ';';\n\t\tfuncString += 'function pad2 (number) {return (\"0\" + number).slice(-2)}';\n\t\tfuncString += 'return \"' + tpl.replace(/\\\\?[a-z]+/ig, function (match) {\n\t\t\tif (match.charAt(0) === '\\\\') {\n\t\t\t\treturn match.substr(1);\n\t\t\t}\n\t\t\tvar replacer = formatReplacementsMap[match];\n\t\n\t\t\treturn replacer ? '\" + ' + replacer + ' + \"' : match;\n\t\t}) + '\"';\n\t\n\t\treturn compiledTemplates[format] = new Function('date', funcString); // jshint ignore:line\n\t}\n\t\n\tODate.toDate = function (date) {\n\t\tdate = date instanceof Date ? date : new Date(date);\n\t\tif (date.toString() !== 'Invalid Date') {\n\t\t\treturn date;\n\t\t}\n\t};\n\t\n\tODate.format = function (date, dateFormat) {\n\t\tdateFormat = dateFormat || 'datetime';\n\t\tvar tpl = compiledTemplates[dateFormat] || compile(dateFormat);\n\t\tdate = ODate.toDate(date);\n\t\treturn date && tpl(date);\n\t};\n\t\n\tODate.getSecondsBetween = function (time, otherTime) {\n\t\treturn Math.round((time - otherTime) / 1000);\n\t};\n\t\n\tODate.ftTime = function (dateObj) {\n\t\tvar now = new Date();\n\t\tvar interval = ODate.getSecondsBetween(now, dateObj);\n\t\tvar dateString = undefined;\n\t\n\t\t// If the date will occur in the next 5 minutes. This check is to allow for\n\t\t// reasonably differences in machine clocks.\n\t\tif (ODate.isNearFuture(interval)) {\n\t\t\tdateString = 'just now';\n\t\n\t\t\t// If it's beyond 5 minutes, fall back to printing the whole date, the machine\n\t\t\t// clock could be way out.\n\t\t} else if (ODate.isFarFuture(interval)) {\n\t\t\t\tdateString = ODate.format(dateObj, 'date');\n\t\n\t\t\t\t// Relative times for today or within the last 4 hours\n\t\t\t} else if (ODate.isToday(dateObj, now, interval) || interval < 4 * inSeconds.hour) {\n\t\t\t\t\tdateString = ODate.timeAgo(dateObj, interval);\n\t\n\t\t\t\t\t// 'Yesterday' for dates that occurred yesterday\n\t\t\t\t} else if (ODate.isYesterday(dateObj, now, interval)) {\n\t\t\t\t\t\tdateString = 'yesterday';\n\t\n\t\t\t\t\t\t// Else print the date\n\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdateString = ODate.format(dateObj, 'date');\n\t\t\t\t\t\t}\n\t\n\t\treturn dateString;\n\t};\n\t\n\tODate.isNearFuture = function (interval) {\n\t\t// If the interval within the next 5 minutes\n\t\treturn interval < 0 && interval > -(5 * inSeconds.minute);\n\t};\n\t\n\tODate.isFarFuture = function (interval) {\n\t\t// If the interval is further in the future than 5 minutes\n\t\treturn interval < -(5 * inSeconds.minute);\n\t};\n\t\n\tODate.isToday = function (date, now, interval) {\n\t\tvar within24Hours = interval < inSeconds.day;\n\t\tvar sameDayOfWeek = now.getDay() === date.getDay();\n\t\treturn within24Hours && sameDayOfWeek;\n\t};\n\t\n\tODate.isYesterday = function (date, now, interval) {\n\t\tvar within48Hours = interval < 2 * inSeconds.day;\n\t\tvar consecutiveDaysOfTheWeek = now.getDay() === date.getDay() + 1;\n\t\treturn within48Hours && consecutiveDaysOfTheWeek;\n\t};\n\t\n\tODate.timeAgo = function (date, interval, options) {\n\t\n\t\tdate = ODate.toDate(date);\n\t\tif (!date) return;\n\t\n\t\t// Accept an interval argument for backwards compatibility\n\t\tif (arguments.length === 2 && typeof interval === 'object') {\n\t\t\toptions = interval;\n\t\t\tinterval = options.interval;\n\t\t}\n\t\n\t\t// Default the interval option to the time since the given date\n\t\tif (!interval) {\n\t\t\tinterval = ODate.getSecondsBetween(new Date(), date);\n\t\t}\n\t\n\t\t// If a limit has been supplied and the interval is longer ago than that limit\n\t\tif (options && options.limit > 0 && (!interval || interval > options.limit)) {\n\t\t\treturn '';\n\t\t}\n\t\n\t\tvar abbreviated = options ? options.abbreviated : false;\n\t\n\t\tif (interval < inSeconds.minute) {\n\t\t\treturn (abbreviated ? interval + 's' : interval + ' seconds') + ' ago';\n\t\t} else if (interval < 1.5 * inSeconds.minute) {\n\t\t\treturn (abbreviated ? '1m' : 'a minute') + ' ago';\n\t\t} else if (interval < 59 * inSeconds.minute) {\n\t\t\treturn '' + Math.round(interval / inSeconds.minute) + (abbreviated ? 'm' : ' minutes') + ' ago';\n\t\t} else if (interval < 1.5 * inSeconds.hour) {\n\t\t\treturn (abbreviated ? '1h' : 'an hour') + ' ago';\n\t\t} else if (interval < 22 * inSeconds.hour) {\n\t\t\treturn '' + Math.round(interval / inSeconds.hour) + (abbreviated ? 'h' : ' hours') + ' ago';\n\t\t} else if (interval < 1.5 * inSeconds.day) {\n\t\t\treturn (abbreviated ? '1d' : 'a day') + ' ago';\n\t\t} else if (interval < 25 * inSeconds.day) {\n\t\t\treturn '' + Math.round(interval / inSeconds.day) + (abbreviated ? 'd' : ' days') + ' ago';\n\t\t} else if (interval < 45 * inSeconds.day) {\n\t\t\treturn (abbreviated ? '1mth' : 'a month') + ' ago';\n\t\t} else if (interval < 345 * inSeconds.day) {\n\t\t\treturn '' + Math.round(interval / inSeconds.month) + (abbreviated ? 'mth' : ' months') + ' ago';\n\t\t} else if (interval < 547 * inSeconds.day) {\n\t\t\treturn (abbreviated ? '1y' : 'a year') + ' ago';\n\t\t} else {\n\t\t\treturn '' + Math.max(2, Math.floor(interval / inSeconds.year)) + (abbreviated ? 'y' : ' years') + ' ago';\n\t\t}\n\t};\n\t\n\tODate.asTodayOrYesterdayOrNothing = function (date) {\n\t\n\t\tif (!date) return;\n\t\n\t\tvar now = new Date();\n\t\tvar interval = ODate.getSecondsBetween(now, date);\n\t\n\t\tvar dateString = undefined;\n\t\n\t\t// If this was less than a day ago\n\t\tif (ODate.isToday(date, now, interval)) {\n\t\t\tdateString = 'today';\n\t\t} else if (ODate.isYesterday(date, now, interval)) {\n\t\t\tdateString = 'yesterday';\n\t\t} else {\n\t\t\tdateString = '';\n\t\t}\n\t\n\t\treturn dateString;\n\t};\n\t\n\tODate.timeAgoNoSeconds = function (date) {\n\t\n\t\tif (!date) return;\n\t\n\t\tvar now = new Date();\n\t\tvar interval = ODate.getSecondsBetween(now, date);\n\t\n\t\t// If this was less than a minute ago\n\t\tif (interval < 60) {\n\t\t\treturn 'Less than a minute ago';\n\t\t}\n\t\treturn ODate.timeAgo(date);\n\t};\n\t\n\tODate.init = function (el) {\n\t\tif (!el) {\n\t\t\tel = document.body;\n\t\t}\n\t\tif (!(el instanceof HTMLElement)) {\n\t\t\tel = document.querySelector(el);\n\t\t}\n\t\t/* If el's data-o-component has \\bo-date\\b in it, ie it is itself a date,\n\t  return a new o-date */\n\t\tif (/\\bo-date\\b/.test(el.getAttribute('data-o-component'))) {\n\t\t\treturn new ODate(el);\n\t\t}\n\t\n\t\t// If el contains date components, return o-dates\n\t\tvar dateEls = el.querySelectorAll('[data-o-component~=\"o-date\"]');\n\t\treturn [].map.call(dateEls, function (el) {\n\t\t\treturn new ODate(el);\n\t\t});\n\t};\n\t\n\tvar constructAll = function constructAll() {\n\t\tODate.init();\n\t\tdocument.removeEventListener('o.DOMContentLoaded', constructAll);\n\t};\n\t\n\tif (typeof window !== 'undefined') {\n\t\tdocument.addEventListener('o.DOMContentLoaded', constructAll);\n\t}\n\t\n\tmodule.exports = ODate;\n\n/***/ }\n/******/ ]);\n//# sourceMappingURL=bundle.js.map"],"file":"bundle.js"}